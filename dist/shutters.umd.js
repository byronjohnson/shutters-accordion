(function(i,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(i=typeof globalThis<"u"?globalThis:i||self,i.ShuttersAccordion=a())})(this,(function(){"use strict";var i=document.createElement("style");i.textContent=`.shutters-accordion{--shutters-animation-duration: .3s;--shutters-animation-easing: ease-in-out}.shutters-header{cursor:pointer;display:flex;align-items:center;justify-content:space-between;user-select:none}.shutters-icon:before{content:"+";display:inline-block;transition:transform var(--shutters-animation-duration) var(--shutters-animation-easing)}.opened .shutters-icon:before{transform:rotate(45deg)}.shutters-content{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--shutters-animation-duration) var(--shutters-animation-easing),opacity var(--shutters-animation-duration) var(--shutters-animation-easing);opacity:0}.shutters-body{min-height:0;overflow:hidden}.opened .shutters-content{grid-template-rows:1fr;opacity:1}:root{--shutters-bg-color: #fff;--shutters-border-color: #000;--shutters-focus-color: #0066cc;--shutters-hover-bg: #f5f5f5;--shutters-text-color: #000}.shutters-accordion{background-color:var(--shutters-bg-color);font-family:system-ui,-apple-system,sans-serif;line-height:1.5}.shutters-item{border-bottom:1px solid var(--shutters-border-color);&:last-child{border-bottom:none}}.shutters-item.opened .shutters-header{background-color:var(--shutters-hover-bg)}.shutters-header{background-color:var(--shutters-bg-color);border:none;color:var(--shutters-text-color);font-size:clamp(.85rem,2vw,1rem);font-weight:500;padding:clamp(.5rem,2vw,1rem);transition:background-color .15s ease;&:hover{background-color:var(--shutters-hover-bg)}&:focus-visible{outline:2px solid var(--shutters-focus-color);outline-offset:-2px}}.shutters-title{flex:1;text-align:left}.shutters-icon{color:var(--shutters-text-color);font-size:clamp(1rem,2vw,1.2rem)}.shutters-content{padding:0 clamp(.5rem,2vw,1rem)}.shutters-body{color:var(--shutters-text-color);line-height:1.6;>*:first-child{margin-top:1rem}>*:last-child{margin-bottom:1rem}p{margin:0 0 1rem}ul,ol{margin:0 0 1rem;padding-left:1.5rem}li{margin-bottom:.25rem}li:last-child{margin-bottom:0}}
/*$vite$:1*/`,document.head.appendChild(i);/**
 * ShuttersAccordion - A minimal, accessible accordion component
 * @license MIT
 */class a{constructor(t={}){if(this.options={container:".shutters-accordion",animationDuration:300,animationEasing:"ease-in-out",defaultOpen:"none",...t},this._handlers=[],this.containers=this._resolve(this.options.container),!this.containers.length)throw new Error(`Shutters: no containers found for "${this.options.container}"`);this._applyTiming(),this._init(),this._applyDefaultOpen()}_resolve(t){return typeof t=="string"?[...document.querySelectorAll(t)]:t instanceof NodeList||Array.isArray(t)?[...t]:[t]}_applyTiming(){const t=`${this.options.animationDuration/1e3}s`,e=this.options.animationEasing;for(const s of this.containers)s.style.setProperty("--shutters-animation-duration",t),s.style.setProperty("--shutters-animation-easing",e)}_init(){for(const t of this.containers){for(const r of t.querySelectorAll(".shutters-header")){r.setAttribute("role","button"),r.setAttribute("tabindex","0");const o=r.closest(".shutters-item");r.setAttribute("aria-expanded",o?.classList.contains("opened")?"true":"false")}const e=r=>{const o=r.target.closest(".shutters-header");o&&t.contains(o)&&this._toggle(o,t)},s=r=>{const o=r.target.closest(".shutters-header");if(!o||!t.contains(o))return;const n=[...t.querySelectorAll(".shutters-header")];switch(r.key){case"Enter":case" ":r.preventDefault(),this._toggle(o,t);break;case"ArrowDown":r.preventDefault(),n[(n.indexOf(o)+1)%n.length]?.focus();break;case"ArrowUp":r.preventDefault(),n[(n.indexOf(o)-1+n.length)%n.length]?.focus();break;case"Home":r.preventDefault(),n[0]?.focus();break;case"End":r.preventDefault(),n[n.length-1]?.focus();break}};t.addEventListener("click",e),t.addEventListener("keydown",s),this._handlers.push({container:t,onClick:e,onKey:s})}}_applyDefaultOpen(){const{defaultOpen:t}=this.options;if(t==="none")return;if(t==="first"){this.open(0);return}const e=this._totalItems();if(t==="all")for(let s=0;s<e;s++)this.open(s);else if(Array.isArray(t))for(const s of t)s>=0&&s<e&&this.open(s)}_totalItems(){let t=0;for(const e of this.containers)t+=e.querySelectorAll(".shutters-header").length;return t}_toggle(t,e){const s=t.closest(".shutters-item");if(!s)return;const r=!s.classList.contains("opened");r&&this._closeOthers(t,e),this._setState(s,t,r),this._emit(e,r?"shutters:open":"shutters:close",t,s)}_closeOthers(t,e){if(e.classList.contains("shutters-autoclose"))for(const s of e.querySelectorAll(".shutters-header")){if(s===t)continue;const r=s.closest(".shutters-item");r?.classList.contains("opened")&&(this._setState(r,s,!1),this._emit(e,"shutters:close",s,r))}}_setState(t,e,s){t.classList.toggle("opened",s),e.setAttribute("aria-expanded",String(s))}_emit(t,e,s,r){t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{header:s,item:r}}))}_byIndex(t){let e=0;for(const s of this.containers){const r=s.querySelectorAll(".shutters-header");if(t<e+r.length){const o=r[t-e];return o?{item:o.closest(".shutters-item"),header:o,container:s}:null}e+=r.length}return null}open(t){const e=this._byIndex(t);e&&(e.item.classList.contains("opened")||(this._closeOthers(e.header,e.container),this._setState(e.item,e.header,!0),this._emit(e.container,"shutters:open",e.header,e.item)))}close(t){const e=this._byIndex(t);e&&e.item.classList.contains("opened")&&(this._setState(e.item,e.header,!1),this._emit(e.container,"shutters:close",e.header,e.item))}toggle(t){const e=this._byIndex(t);e&&(e.item.classList.contains("opened")?this.close(t):this.open(t))}openAll(){for(let t=0,e=this._totalItems();t<e;t++)this.open(t)}closeAll(){for(let t=0,e=this._totalItems();t<e;t++)this.close(t)}on(t,e){for(const s of this.containers)s.addEventListener(t,e);return this}off(t,e){for(const s of this.containers)s.removeEventListener(t,e);return this}destroy(){for(const{container:t,onClick:e,onKey:s}of this._handlers)t.removeEventListener("click",e),t.removeEventListener("keydown",s),t.style.removeProperty("--shutters-animation-duration"),t.style.removeProperty("--shutters-animation-easing");this._handlers=[],this.containers=[]}}/**
 * Shutters Accordion
 * @module shutters-accordion
 * @license MIT
 */return a}));
