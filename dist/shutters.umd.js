(function(o,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(o=typeof globalThis<"u"?globalThis:o||self,i(o.ShuttersAccordion={}))})(this,(function(o){"use strict";var h=Object.defineProperty;var d=(o,i,a)=>i in o?h(o,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[i]=a;var u=(o,i,a)=>d(o,typeof i!="symbol"?i+"":i,a);var i=document.createElement("style");i.textContent=`.shutters-accordion{display:block;--shutters-animation-duration: .3s;--shutters-animation-easing: ease-in-out}.shutters-item{border-bottom:1px solid #ccc}.shutters-header{cursor:pointer;display:flex;justify-content:space-between;padding:1rem;user-select:none;&:focus{outline:none}}.shutters-icon{color:var(--shutters-text-color);font-size:1.2rem;&:before{content:"+";display:inline-block;transform:translateZ(0);transition:transform var(--shutters-animation-duration) var(--shutters-animation-easing);will-change:transform}}.opened .shutters-icon:before{transform:translateZ(0) rotate(45deg)}.shutters-content{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--shutters-animation-duration) var(--shutters-animation-easing),opacity var(--shutters-animation-duration) var(--shutters-animation-easing);opacity:0;padding:0 1rem}.shutters-body{min-height:0;overflow:hidden}.opened{.shutters-content{grid-template-rows:1fr;opacity:1}}
/*$vite$:1*/`,document.head.appendChild(i);/**
 * ShuttersAccordion - A simple, configurable accordion component
 * @version 1.0.0
 * @license MIT
 */const l=class l{constructor(t={}){if(this.version=l.VERSION,this.options={container:".shutters-accordion",animationDuration:300,animationEasing:"ease-in-out",defaultOpen:"none",...t},this.containers=this._getContainers(),this.containers.length===0)throw new Error(`No containers found: ${this.options.container}`);this._applyAnimationSettings(),this.init(),this._applyDefaultOpen()}_getContainers(){const{container:t}=this.options;return typeof t=="string"?Array.from(document.querySelectorAll(t)):t instanceof NodeList||Array.isArray(t)?Array.from(t):[t]}_applyAnimationSettings(){const{animationDuration:t,animationEasing:s}=this.options,e=t/1e3;this.containers.forEach(n=>{n.style.setProperty("--shutters-animation-duration",`${e}s`),n.style.setProperty("--shutters-animation-easing",s)})}_applyDefaultOpen(){const{defaultOpen:t}=this.options;if(t==="none")return;let s=[],e=0;this.containers.forEach(n=>{const r=n.querySelectorAll(".shutters-header").length;e+=r}),t==="first"?s=[0]:t==="all"?s=Array.from({length:e},(n,r)=>r):Array.isArray(t)&&(s=t.filter(n=>n>=0&&n<e)),s.forEach(n=>this.open(n))}init(){this.containers.forEach(t=>{t.querySelectorAll(".shutters-header").forEach(e=>{const n=c=>{c.type==="keydown"&&c.key!=="Enter"&&c.key!==" "||(c.type==="keydown"&&c.preventDefault(),this._toggleItem(e,t))};e.addEventListener("click",n),e.addEventListener("keydown",n),e.closest(".shutters-item")?.classList.contains("opened")&&e.setAttribute("aria-expanded","true")})})}_closeOtherItems(t,s){s.classList.contains("shutters-autoclose")&&s.querySelectorAll(".shutters-header").forEach(e=>{if(e!==t){const n=e.closest(".shutters-item");n?.classList.contains("opened")&&(n.classList.remove("opened"),e.setAttribute("aria-expanded","false"))}})}_updateItemState(t,s,e){t.classList.toggle("opened",e),s.setAttribute("aria-expanded",e?"true":"false")}_toggleItem(t,s){const e=t.closest(".shutters-item");if(!e)return;const n=e.classList.contains("opened");n||this._closeOtherItems(t,s),this._updateItemState(e,t,!n)}_getItemByIndex(t){let s=0;for(const e of this.containers){const n=e.querySelectorAll(".shutters-header");if(t<s+n.length){const r=n[t-s];return r?{item:r.closest(".shutters-item"),header:r,container:e}:null}s+=n.length}return null}_setItemStateByIndex(t,s){const e=this._getItemByIndex(t);if(!e)return;const{item:n,header:r,container:c}=e;s&&this._closeOtherItems(r,c),this._updateItemState(n,r,s)}open(t){this._setItemStateByIndex(t,!0)}close(t){this._setItemStateByIndex(t,!1)}toggle(t){const s=this._getItemByIndex(t);if(s){const e=s.item.classList.contains("opened");this._setItemStateByIndex(t,!e)}}destroy(){this.containers.forEach(t=>{t.querySelectorAll(".shutters-header").forEach(s=>{s.replaceWith(s.cloneNode(!0))})})}};u(l,"VERSION","1.0.0");let a=l;window.ShuttersAccordion=a,o.ShuttersAccordion=a,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
